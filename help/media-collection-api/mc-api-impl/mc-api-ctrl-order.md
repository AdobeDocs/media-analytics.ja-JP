---
title: イベントの順序の制御
description: イベントの順序の制御
uuid: 007fccc6-be72-4b79-826d-588c957ccf15
exl-id: c0cac319-2bea-42c8-8674-641dfbb44fa2
translation-type: tm+mt
source-git-commit: e0da35f364dc057a241fbb05a718a731ffee1e94
workflow-type: tm+mt
source-wordcount: '307'
ht-degree: 4%

---

# イベントの順序の制御 {#controlling-the-order-of-events}

ストリーミングビデオトラッキングは時間に非常に依存する操作で、場合によっては、メディアコレクションAPIトラッキングコールがバックエンドの順番がばらばらに到達します。 この場合、バックエンドは、`playerTime`オブジェクトに指定されたタイムスタンプに基づいて、イベントのキューアップと並べ替えを試みます。  この問題は、いくつかの制限で発生します。 現在、順番が正しくない呼び出しの間の遅延が1秒を超えると、順序の変更が失敗する場合があります。 今後の更新では、「許容可能な遅延時間」を最適化して設定できる場合があります。

## 順序が正しくないイベントの例
イベントがネットワークを通過すると、順番が正しくないイベントが発生します。これが原因で、遅延が発生する場合があります。

例えば、`adBreakStart`イベントの後に`adStart`イベントを送信できます。 これは、広告の時間内の広告を開始するために必要なので、一般的な使用例です。

広告の準備が整い、バッファーが不要な場合、ほぼ瞬時に両方のイベントが発生し、両方のイベントの`playerTime.ts`は互いに非常に近くなりますが、等しくはなりません。

> 並べ替えアルゴリズムが最初に何がイベントされたかを知らないので、イベントの「playerTime.ts」は、どのイベントでも等しくない必要があります。 2つの連続したイベントごとに、少なくとも1ミリ秒のタイムスタンプの違いがある必要があります。

ネットワーク呼び出しの発生時には、両方のイベントが非常に近い位置で発生するので、順序が正しくない場合があります。 この例では、`adStart`イベントが`adBreakStart`イベントの前に到達します。


イベントの時間計測が行われます。5秒または最大10イベント イベントは、処理パイプラインに送信する前にバッファリングされます。 条件が満たされた場合 — 5秒を経過したか10個を超えるイベントが受信されると、`playerTime.ts`に基づいてイベントが並べ替えられ、新しい順序で処理パイプラインに送信されます。

>[!IMPORTANT]
>
>処理パイプラインに直ちに送信される例外イベントがあり、`sessionStart`イベントです。
