---
title: '再生中のアプリケーション割り込みの処理 '
description: メディアの再生時にトラッキングの中断を処理する方法を説明します。
uuid: 1ccb4507-bda6-462d-bf67-e22978a4db3d
exl-id: a84af6ad-dd4f-4f0d-93dd-66f2f84ddc0e
feature: Streaming Media
role: User, Admin, Data Engineer
source-git-commit: a6a9d550cbdf511b93eea132445607102a557823
workflow-type: tm+mt
source-wordcount: '355'
ht-degree: 90%

---

# 再生中のアプリケーション割り込みの処理{#handling-application-interrupts-during-playback}

メディアアプリケーションでの再生は、様々な方法で中断される場合があります。例えば、ユーザーが明示的に一時停止を押したり、アプリケーションをバックグラウンドにしたりできます。 メディア再生が中断された原因に関係なく、トラッキングの手順は同じです。

1. （バックグラウンドに移行された、メディアが一時停止されたなどの理由で）アプリケーションが中断されたら、**`trackPause`** を呼び出します。
1. アプリケーションがフォアグラウンドに戻るかメディアの再生が再開されたら、**`trackPlay`** を呼び出します。

>[!NOTE]
>
>アプリがバックグラウンドから戻ったときに `trackSessionStart` を呼び出すと、その時点までの再生が合計再生時間にカウントされず、以前の進捗マーカーやセグメントなどが失われる可能性があります。 アプリがフォアグラウンドに戻るかメディアの再生が再開されたときは、代わりに `trackPlay` を呼び出してください。

## アプリケーション割り込みの処理に関する FAQ：  {#faq-about-handling-application-interrupts}

* _アプリがバックグラウンドになってからセッションが終了するまでどれくらいの時間を確保する必要があります？_

  アプリケーションでバックグラウンド再生が許可されている場合は、API を呼び出すことでトラッキングを続けることができます。すべての通常のトラッキング ping が送信されます。バックグラウンド再生を許可するビデオアプリは多くありません（YouTube Red を除く）が、すべてのオーディオアプリはこれを許可します。アプリケーションでバックグラウンド再生が許可されていない場合は、1 分間一時停止状態にしてからトラッキングセッションを終了することをお勧めします。ほとんどの場合、アプリケーションは、ユーザーがその後メディアの視聴を再開するかどうか、またはいつメディアを強制終了するかを判断できないので、一時停止 ping の送信を続行できません。また、バックグラウンドで ping を送信し続けるのは不適切なエクスペリエンスでもあります。

* _アプリが長時間バックグラウンドに置かれた後でトラッキングを再開するにはどうするのが適切ですか？_

  アプリケーションは `trackSessionEnd` を呼び出してトラッキングセッションを終了する必要があります。バージョン 2.1 より、SDK は、「終了」ping を送信して、トラッキングセッションが終了したことをバックエンドに通知します。

* _同じセッションを再開するにはどうしたらよいですか？_

  トラッキングセッションの再開については、[非アクティブセッションの再開](resuming-inactive.md)を参照してください。SDK は、再開 Ping を送信して、ユーザーが手動でセッションを再開していることをバックエンドに通知します。
